# hacktoolchain

This directory contains my hacking "peephole" optimizer.  It modifies the assembler code generated by GCC before actually assembling them.

Usage: Pass "-B/path/to/this/directory" to gcc; or symlink `compiler-wrapper` in this directory to a something like `gcc-svn-opt` and `g++-svn-opt` and use them.

## What optimizations does it do?

Actually, most of the modifications are not real optimizations - they're just my own preferences.

For example, I dislike assembler code like this

```
    cmp $5, %eax
    ja  .L1
```

I'd rather like

```
    cmp $6, %eax
    jae .L1
```

However, there are actually a small number of real optimizations, such as resolving repeated jumps and converting `and $255, %reg` to `movzx` when FLAGS are not used.
